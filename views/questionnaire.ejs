<!DOCTYPE html>
<html>
  <head>
    <% include include/head %>
  </head>
  <body>
    <% include include/menu-left %>

    <header class="header-question">
      <span class="menu-center">Question N° <%= idQuestion %> : Quel est la couleur du cheval blanc d'Henry IV ?</span>
      <div id="countdown"></div>
    </header>

    <section class="countdown">
      <div id="progressBar">
        <div></div>
      </div>
    </section>

    <section class="reponses">
      <a href="#">
        <div class="card">
          Réponse 1
        </div>
      </a>

      <a href="#">
        <div class="card">
          Réponse 2
        </div>
      </a>

      <a href="#">
        <div class="card">
          Réponse 3
        </div>
      </a>

      <a href="#">
        <div class="card">
          Réponse 4
        </div>
      </a>
    </section>
  </body>
  <script type="text/javascript">

  $(".card").on("click", function() {
    $(".card").css("background", "#c25e54");
    $(this).css("background", "#282c34");
  });

    function progress(percent, $element, time) {
        var progressBarWidth = percent * $element.width() / 100;
        $element.find('div').animate({ width: progressBarWidth }, time);
    }

    function countdown( elementName, minutes, seconds )
    {
        var element, endTime, hours, mins, msLeft, time;

        function twoDigits( n )
        {
            return (n <= 9 ? "0" + n : n);
        }

        function updateTimer()
        {
            msLeft = endTime - (+new Date);
            if ( msLeft < 1000 ) {
                element.innerHTML = "Times up !";
            } else {
                time = new Date( msLeft );
                hours = time.getUTCHours();
                mins = time.getUTCMinutes();
                element.innerHTML = (hours ? hours + ':' + twoDigits( mins ) : mins) + ':' + twoDigits( time.getUTCSeconds() );
                setTimeout( updateTimer, time.getUTCMilliseconds() + 500 );
            }
        }

        element = document.getElementById( elementName );
        endTime = (+new Date) + 1000 * (60*minutes + seconds) + 500;
        updateTimer();
        progress(100, $('#progressBar'),(minutes*60000 + seconds*1000));

    }

    countdown("countdown", 0, 30 );
  </script>
</html>
