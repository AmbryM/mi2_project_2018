<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="style/style.css">
  </head>
  <body>
    <ul class="cbp-vimenu">
      <li><a href="#" class="icon-logo">Logo</a></li>
    	<li><a href="creation.html" class="icon-pencil">Créer</a></li>
      <li><a href="liste.html" class="icon-archive">Lister</a></li>
    	<li><a href="stats.html" class="icon-download">Stats</a></li>
    </ul>
    <header class="header">
      <span class="menu-left">Bonjour M. Goy</span>
      <span class="menu-right">Déconnexion</span>
    </header>

    <section class="creation">
      <h1>Créer un questionnaire</h1>

      <h3>Questionnaire</h3>

      <input type="text" name="" value="" placeholder="Nom du questionnaire" style="width: 20%;">
      <input class="nbQuestion" min="1" type="number" name="nbQuestion" value="1" placeholder="Nombre de questions" onchange="showQuestion()"><br>

      <p>Veuillez par la suite cocher la ou les réponses qui sont justes pour chaque question</p>

      <br>

      <div class="questions">
        <div class="question-container question-container-1">
          <div class="question-infos question-infos-1">
            <h3>Question N°1</h3>

            <input type="text" name="" value="" placeholder="Quelle est votre question ?" style="width: 50%;">
            <input class="nbReponse-1" type="number" name="" min="2" value="2" onchange="showReponse(1)" placeholder="Nombre de réponses">
            <select onchange="showChoix(1)" class="question-type-1" name="">
                <option value="0">Choix multiple</option>
                <option value="1">Choix unique</option>
            </select>

          </div>

          <div class="question-reponses question-reponses-1">

              <h3>Réponses à la question N°1</h3>
<form class="" action="index.html" method="post">


              <!-- <input type="checkbox" name="" value=""> -->
              <input type="radio" id="test1" />
              <label for="test1" style="color: white;"></label>
              <input type="text" name="" value="" placeholder="Libelle réponse">
              <!-- <input type="checkbox" name="" value=""> -->
              <input type="radio" id="test2" />
              <label for="test2" style="color: white;"></label>
              <input type="text" name="" value="" placeholder="Libelle réponse">
</form>
          </div>
        </div>
      </div>

      <a href="#" class="btn">Valider</a>
    </section>

  </body>
  <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
  <script type="text/javascript">
    var nbQuestion = 1;
    var nbReponse = 2;

    function showQuestion() {
      //Si on ajoute une question
      if (nbQuestion < $('.nbQuestion').val()) {
        nbQuestion = $('.nbQuestion').val();
        $('.questions').append("<div class=\"question-container question-container-"+nbQuestion+"\"><div class=\"question-infos question-infos-"+nbQuestion+"\"><h3>Question N°"+nbQuestion+"</h3><input type=\"text\" name=\"\" value=\"\" placeholder=\"Quelle est votre question ?\" style=\"width: 50%;\"> <input class=\"nbReponse-"+nbQuestion+"\" type=\"number\" name=\"\" min=\"2\" value=\"2\" placeholder=\"Nombre de réponses\" onchange=\"showReponse("+nbQuestion+")\"> <select onchange=\"showChoix("+nbQuestion+")\" class=\"question-type-"+nbQuestion+"\" name=\"\"><option value=\"0\">Choix multiple</option><option value=\"1\">Choix unique</option> </select></div><div class=\"question-reponses-"+nbQuestion+"\"><h3>Réponses à la question N°"+nbQuestion+"</h3><input type=\"checkbox\" name=\"\" value=\"\"> <input type=\"text\" name=\"\" value=\"\" placeholder=\"Libelle réponse\"><input type=\"checkbox\" name=\"\" value=\"\"> <input type=\"text\" name=\"\" value=\"\" placeholder=\"Libelle réponse\"></div></div>");
      }
      //Si on enlève une question
      else {
        nbQuestion = $('.nbQuestion').val();
        $('.questions .question-container').last().remove();
      }

    }

    function showChoix(numQuestion) {
      var val = $('.question-type-'+numQuestion).val();
      alert(val);
    }

    function showReponse(numQuestion) {

      // if (nbReponse < $('.nbReponse-'+numQuestion).val()) {
      //   nbReponse = $('.nbReponse-'+numQuestion).val();
      //   $('.question-reponses-'+numQuestion).append("<input type=\"checkbox\" name=\"\" value=\"\"> <input type=\"text\" name=\"\" value=\"\" placeholder=\"Libelle réponse\">");
      //
      // }
      // else {
      //   nbReponse = $('.nbReponse-'+numQuestion).val();
      //   $('.questions .question-reponses-'+numQuestion+' input').last().remove();
      //   $('.questions .question-reponses-'+numQuestion+' input').last().remove();
      // }




      var nbReponse = $('.nbReponse-'+numQuestion).val();
      $('.question-reponses-'+numQuestion).empty();

      $('.question-reponses-'+numQuestion).append("<h3>Réponses à la question N°"+numQuestion+"</h3>");

      for (var i = 0; i < nbReponse; i++) {
        $('.question-reponses-'+numQuestion).append("<input type=\"checkbox\" name=\"\" value=\"\"> <input type=\"text\" name=\"\" value=\"\" placeholder=\"Libelle réponse\">");
      }
    }
  </script>
</html>
